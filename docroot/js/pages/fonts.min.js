(()=>{var qt=Object.defineProperty;var Bt=(i,t,e)=>t in i?qt(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var $=(i,t,e)=>Bt(i,typeof t!="symbol"?t+"":t,e);var zt=i=>Object.prototype.toString.call(i)==="[object Object]";var wt=(i,t)=>{let e=document.createElement(i);if(t&&typeof t=="object")for(let s in t)s==="html"?e.innerHTML=t[s]:e.setAttribute(s,t[s]);return e},lt=i=>["#text","#comment"].includes(i.nodeName)?i.data:i.childNodes?i.childNodes.map(t=>lt(t)).join(""):"",nt=i=>{if(i==null)return"";if(i.hasOwnProperty("text")||i.hasOwnProperty("data")){let t=i;return t.text??nt(t.data)}return i.hasOwnProperty("nodeName")?lt(i):String(i)};var Tt=function(i,t){let e=0,s=0;for(;e<i+1;)t[s].hidden||(e+=1),s+=1;return s-1},Ht=function(i){let t={};if(i)for(let e of i)t[e.name]=e.value;return t},K=i=>i?i.trim().split(" ").map(t=>`.${t}`).join(""):null,_t=(i,t)=>!t?.split(" ").some(s=>!i.classList.contains(s)),U=(i,t)=>i?t?`${i} ${t}`:i:t||"",Ut=function(i,t=300){let e;return(...s)=>{clearTimeout(e),e=window.setTimeout(()=>i(),t)}},Mt=function(){return Mt=Object.assign||function(i){for(var t,e=arguments,s=1,o=arguments.length;s<o;s++)for(var a in t=e[s])Object.prototype.hasOwnProperty.call(t,a)&&(i[a]=t[a]);return i},Mt.apply(this,arguments)};function ut(i,t,e){for(var s,o=0,a=t.length;o<a;o++)!s&&o in t||(s||(s=Array.prototype.slice.call(t,0,o)),s[o]=t[o]);return i.concat(s||Array.prototype.slice.call(t))}var H=(function(){function i(t){t===void 0&&(t={});var e=this;Object.entries(t).forEach(function(s){var o=s[0],a=s[1];return e[o]=a})}return i.prototype.toString=function(){return JSON.stringify(this)},i.prototype.setValue=function(t,e){return this[t]=e,this},i})();function Y(i,t){var e=arguments;t===void 0&&(t=!1);for(var s=[],o=2;o<arguments.length;o++)s[o-2]=e[o];return i!=null&&(t?!!s.some(function(a){if(a==="Element")return i.nodeType===1||typeof i.nodeName=="string"&&i.nodeName!=="#text"&&i.nodeName!=="#comment"||i.tagName&&typeof i.tagName=="string"||i.setAttribute&&typeof i.setAttribute=="function";if(a==="Text")return i.nodeType===3||i.nodeName==="#text";if(a==="Comment")return i.nodeType===8||i.nodeName==="#comment";if(a.startsWith("HTML")&&a.endsWith("Element")){var n=a.slice(4,-7).toLowerCase();return i.nodeName&&i.nodeName.toLowerCase()===n||i.tagName&&i.tagName.toLowerCase()===n}return!1})||!!i.ownerDocument&&s.some(function(a){var n,l;return typeof((l=(n=i?.ownerDocument)===null||n===void 0?void 0:n.defaultView)===null||l===void 0?void 0:l[a])=="function"&&i instanceof i.ownerDocument.defaultView[a]}):s.some(function(a){var n,l;return typeof((l=(n=i?.ownerDocument)===null||n===void 0?void 0:n.defaultView)===null||l===void 0?void 0:l[a])=="function"&&i instanceof i.ownerDocument.defaultView[a]}))}function xt(i,t,e){var s;return i.nodeName==="#text"?s=e.document.createTextNode(i.data):i.nodeName==="#comment"?s=e.document.createComment(i.data):(t?(s=e.document.createElementNS("http://www.w3.org/2000/svg",i.nodeName),i.nodeName==="foreignObject"&&(t=!1)):i.nodeName.toLowerCase()==="svg"?(s=e.document.createElementNS("http://www.w3.org/2000/svg","svg"),t=!0):s=e.document.createElement(i.nodeName),i.attributes&&Object.entries(i.attributes).forEach(function(o){var a=o[0],n=o[1];return s.setAttribute(a,n)}),i.childNodes&&i.childNodes.forEach(function(o){return s.appendChild(xt(o,t,e))}),e.valueDiffing&&(i.value&&Y(s,e.simplifiedElementCheck,"HTMLButtonElement","HTMLDataElement","HTMLInputElement","HTMLLIElement","HTMLMeterElement","HTMLOptionElement","HTMLProgressElement","HTMLParamElement")&&(s.value=i.value),i.checked&&Y(s,e.simplifiedElementCheck,"HTMLInputElement")&&(s.checked=i.checked),i.selected&&Y(s,e.simplifiedElementCheck,"HTMLOptionElement")&&(s.selected=i.selected))),s}var yt=function(i,t){for(t=t.slice();t.length>0;){var e=t.splice(0,1)[0];i=i.childNodes[e]}return i};function W(i,t,e){var s,o,a,n=t[e._const.action],l=t[e._const.route];[e._const.addElement,e._const.addTextElement].includes(n)||(s=yt(i,l));var r={diff:t,node:s};if(e.preDiffApply(r))return!0;switch(n){case e._const.addAttribute:if(!s||!Y(s,e.simplifiedElementCheck,"Element"))return!1;s.setAttribute(t[e._const.name],t[e._const.value]);break;case e._const.modifyAttribute:if(!s||!Y(s,e.simplifiedElementCheck,"Element"))return!1;s.setAttribute(t[e._const.name],t[e._const.newValue]),Y(s,e.simplifiedElementCheck,"HTMLInputElement")&&t[e._const.name]==="value"&&(s.value=t[e._const.newValue]);break;case e._const.removeAttribute:if(!s||!Y(s,e.simplifiedElementCheck,"Element"))return!1;s.removeAttribute(t[e._const.name]);break;case e._const.modifyTextElement:if(!s||!Y(s,e.simplifiedElementCheck,"Text"))return!1;e.textDiff(s,s.data,t[e._const.oldValue],t[e._const.newValue]),Y(s.parentNode,e.simplifiedElementCheck,"HTMLTextAreaElement")&&(s.parentNode.value=t[e._const.newValue]);break;case e._const.modifyValue:if(!s||s.value===void 0)return!1;s.value=t[e._const.newValue];break;case e._const.modifyComment:if(!s||!Y(s,e.simplifiedElementCheck,"Comment"))return!1;e.textDiff(s,s.data,t[e._const.oldValue],t[e._const.newValue]);break;case e._const.modifyChecked:if(!s||s.checked===void 0)return!1;s.checked=t[e._const.newValue];break;case e._const.modifySelected:if(!s||s.selected===void 0)return!1;s.selected=t[e._const.newValue];break;case e._const.replaceElement:var d=t[e._const.newValue].nodeName.toLowerCase()==="svg"||s.parentNode.namespaceURI==="http://www.w3.org/2000/svg";s.parentNode.replaceChild(xt(t[e._const.newValue],d,e),s);break;case e._const.relocateGroup:ut([],new Array(t[e._const.groupLength])).map(function(){return s.removeChild(s.childNodes[t[e._const.from]])}).forEach(function(m,h){h===0&&(a=s.childNodes[t[e._const.to]]),s.insertBefore(m,a||null)});break;case e._const.removeElement:s.parentNode.removeChild(s);break;case e._const.addElement:var u=(p=l.slice()).splice(p.length-1,1)[0];if(!Y(s=yt(i,p),e.simplifiedElementCheck,"Element"))return!1;s.insertBefore(xt(t[e._const.element],s.namespaceURI==="http://www.w3.org/2000/svg",e),s.childNodes[u]||null);break;case e._const.removeTextElement:if(!s||s.nodeType!==3)return!1;var f=s.parentNode;f.removeChild(s),Y(f,e.simplifiedElementCheck,"HTMLTextAreaElement")&&(f.value="");break;case e._const.addTextElement:var p;if(u=(p=l.slice()).splice(p.length-1,1)[0],o=e.document.createTextNode(t[e._const.value]),!(s=yt(i,p)).childNodes)return!1;s.insertBefore(o,s.childNodes[u]||null),Y(s.parentNode,e.simplifiedElementCheck,"HTMLTextAreaElement")&&(s.parentNode.value=t[e._const.value]);break;default:console.log("unknown action")}return e.postDiffApply({diff:r.diff,node:r.node,newNode:o}),!0}function Nt(i,t,e){var s=i[t];i[t]=i[e],i[e]=s}function Jt(i,t,e){(t=t.slice()).reverse(),t.forEach(function(s){(function(o,a,n){switch(a[n._const.action]){case n._const.addAttribute:a[n._const.action]=n._const.removeAttribute,W(o,a,n);break;case n._const.modifyAttribute:Nt(a,n._const.oldValue,n._const.newValue),W(o,a,n);break;case n._const.removeAttribute:a[n._const.action]=n._const.addAttribute,W(o,a,n);break;case n._const.modifyTextElement:case n._const.modifyValue:case n._const.modifyComment:case n._const.modifyChecked:case n._const.modifySelected:case n._const.replaceElement:Nt(a,n._const.oldValue,n._const.newValue),W(o,a,n);break;case n._const.relocateGroup:Nt(a,n._const.from,n._const.to),W(o,a,n);break;case n._const.removeElement:a[n._const.action]=n._const.addElement,W(o,a,n);break;case n._const.addElement:a[n._const.action]=n._const.removeElement,W(o,a,n);break;case n._const.removeTextElement:a[n._const.action]=n._const.addTextElement,W(o,a,n);break;case n._const.addTextElement:a[n._const.action]=n._const.removeTextElement,W(o,a,n);break;default:console.log("unknown action")}})(i,s,e)})}var Et=function(i){var t=[];return t.push(i.nodeName),i.nodeName!=="#text"&&i.nodeName!=="#comment"&&i.attributes&&(i.attributes.class&&t.push("".concat(i.nodeName,".").concat(i.attributes.class.replace(/ /g,"."))),i.attributes.id&&t.push("".concat(i.nodeName,"#").concat(i.attributes.id))),t},St=function(i){var t={},e={};return i.forEach(function(s){Et(s).forEach(function(o){var a=o in t;a||o in e?a&&(delete t[o],e[o]=!0):t[o]=!0})}),t},It=function(i,t){var e=St(i),s=St(t),o={};return Object.keys(e).forEach(function(a){s[a]&&(o[a]=!0)}),o},Yt=function(i){return delete i.outerDone,delete i.innerDone,delete i.valueDone,!i.childNodes||i.childNodes.every(Yt)},j=function(i){if(Object.prototype.hasOwnProperty.call(i,"data"))return{nodeName:i.nodeName==="#text"?"#text":"#comment",data:i.data};var t={nodeName:i.nodeName};return Object.prototype.hasOwnProperty.call(i,"attributes")&&(t.attributes=Mt({},i.attributes)),Object.prototype.hasOwnProperty.call(i,"checked")&&(t.checked=i.checked),Object.prototype.hasOwnProperty.call(i,"value")&&(t.value=i.value),Object.prototype.hasOwnProperty.call(i,"selected")&&(t.selected=i.selected),Object.prototype.hasOwnProperty.call(i,"childNodes")&&(t.childNodes=i.childNodes.map(function(e){return j(e)})),t},Ot=function(i,t){if(!["nodeName","value","checked","selected","data"].every(function(o){return i[o]===t[o]}))return!1;if(Object.prototype.hasOwnProperty.call(i,"data"))return!0;if(!!i.attributes!=!!t.attributes||!!i.childNodes!=!!t.childNodes)return!1;if(i.attributes){var e=Object.keys(i.attributes),s=Object.keys(t.attributes);if(e.length!==s.length||!e.every(function(o){return i.attributes[o]===t.attributes[o]}))return!1}return!(i.childNodes&&(i.childNodes.length!==t.childNodes.length||!i.childNodes.every(function(o,a){return Ot(o,t.childNodes[a])})))},$t=function(i,t,e,s,o){if(o===void 0&&(o=!1),!i||!t||i.nodeName!==t.nodeName)return!1;if(["#text","#comment"].includes(i.nodeName))return!!o||i.data===t.data;if(i.nodeName in e)return!0;if(i.attributes&&t.attributes){if(i.attributes.id){if(i.attributes.id!==t.attributes.id)return!1;if("".concat(i.nodeName,"#").concat(i.attributes.id)in e)return!0}if(i.attributes.class&&i.attributes.class===t.attributes.class&&"".concat(i.nodeName,".").concat(i.attributes.class.replace(/ /g,"."))in e)return!0}if(s)return!0;var a=i.childNodes?i.childNodes.slice().reverse():[],n=t.childNodes?t.childNodes.slice().reverse():[];if(a.length!==n.length)return!1;if(o)return a.every(function(r,d){return r.nodeName===n[d].nodeName});var l=It(a,n);return a.every(function(r,d){return $t(r,n[d],l,!0,!0)})},pt=function(i,t){return ut([],new Array(i)).map(function(){return t})},Wt=function(i,t){for(var e=i.childNodes?i.childNodes:[],s=t.childNodes?t.childNodes:[],o=pt(e.length,!1),a=pt(s.length,!1),n=[],l=function(){return arguments[1]},r=!1,d=function(){var u=(function(f,p,m,h){var g=0,w=[],D=f.length,c=p.length,_=ut([],new Array(D+1)).map(function(){return[]}),S=It(f,p),T=D===c;T&&f.some(function(L,P){var N=Et(L),v=Et(p[P]);return N.length!==v.length?(T=!1,!0):(N.some(function(b,M){if(b!==v[M])return T=!1,!0}),!T||void 0)});for(var C=0;C<D;C++)for(var A=f[C],O=0;O<c;O++){var x=p[O];m[C]||h[O]||!$t(A,x,S,T)?_[C+1][O+1]=0:(_[C+1][O+1]=_[C][O]?_[C][O]+1:1,_[C+1][O+1]>=g&&(g=_[C+1][O+1],w=[C+1,O+1]))}return g!==0&&{oldValue:w[0]-g,newValue:w[1]-g,length:g}})(e,s,o,a);u?(n.push(u),ut([],new Array(u.length)).map(l).forEach(function(f){return(function(p,m,h,g){p[h.oldValue+g]=!0,m[h.newValue+g]=!0})(o,a,u,f)})):r=!0};!r;)d();return i.subsets=n,i.subsetsAge=100,n},Qt=(function(){function i(){this.list=[]}return i.prototype.add=function(t){var e;(e=this.list).push.apply(e,t)},i.prototype.forEach=function(t){this.list.forEach(function(e){return t(e)})},i})();function Dt(i,t){var e,s,o=i;for(t=t.slice();t.length>0;)s=t.splice(0,1)[0],e=o,o=o.childNodes?o.childNodes[s]:void 0;return{node:o,parentNode:e,nodeIndex:s}}function Xt(i,t,e){return t.forEach(function(s){(function(o,a,n){var l,r,d,u;if(![n._const.addElement,n._const.addTextElement].includes(a[n._const.action])){var f=Dt(o,a[n._const.route]);r=f.node,d=f.parentNode,u=f.nodeIndex}var p,m,h=[],g={diff:a,node:r};if(n.preVirtualDiffApply(g))return!0;switch(a[n._const.action]){case n._const.addAttribute:r.attributes||(r.attributes={}),r.attributes[a[n._const.name]]=a[n._const.value],a[n._const.name]==="checked"?r.checked=!0:a[n._const.name]==="selected"?r.selected=!0:r.nodeName==="INPUT"&&a[n._const.name]==="value"&&(r.value=a[n._const.value]);break;case n._const.modifyAttribute:r.attributes[a[n._const.name]]=a[n._const.newValue];break;case n._const.removeAttribute:delete r.attributes[a[n._const.name]],Object.keys(r.attributes).length===0&&delete r.attributes,a[n._const.name]==="checked"?r.checked=!1:a[n._const.name]==="selected"?delete r.selected:r.nodeName==="INPUT"&&a[n._const.name]==="value"&&delete r.value;break;case n._const.modifyTextElement:r.data=a[n._const.newValue],d.nodeName==="TEXTAREA"&&(d.value=a[n._const.newValue]);break;case n._const.modifyValue:r.value=a[n._const.newValue];break;case n._const.modifyComment:r.data=a[n._const.newValue];break;case n._const.modifyChecked:r.checked=a[n._const.newValue];break;case n._const.modifySelected:r.selected=a[n._const.newValue];break;case n._const.replaceElement:p=j(a[n._const.newValue]),d.childNodes[u]=p;break;case n._const.relocateGroup:r.childNodes.splice(a[n._const.from],a[n._const.groupLength]).reverse().forEach(function(c){return r.childNodes.splice(a[n._const.to],0,c)}),r.subsets&&r.subsets.forEach(function(c){if(a[n._const.from]<a[n._const.to]&&c.oldValue<=a[n._const.to]&&c.oldValue>a[n._const.from])c.oldValue-=a[n._const.groupLength],(_=c.oldValue+c.length-a[n._const.to])>0&&(h.push({oldValue:a[n._const.to]+a[n._const.groupLength],newValue:c.newValue+c.length-_,length:_}),c.length-=_);else if(a[n._const.from]>a[n._const.to]&&c.oldValue>a[n._const.to]&&c.oldValue<a[n._const.from]){var _;c.oldValue+=a[n._const.groupLength],(_=c.oldValue+c.length-a[n._const.to])>0&&(h.push({oldValue:a[n._const.to]+a[n._const.groupLength],newValue:c.newValue+c.length-_,length:_}),c.length-=_)}else c.oldValue===a[n._const.from]&&(c.oldValue=a[n._const.to])});break;case n._const.removeElement:d.childNodes.splice(u,1),d.subsets&&d.subsets.forEach(function(c){c.oldValue>u?c.oldValue-=1:c.oldValue===u?c.delete=!0:c.oldValue<u&&c.oldValue+c.length>u&&(c.oldValue+c.length-1===u?c.length--:(h.push({newValue:c.newValue+u-c.oldValue,oldValue:u,length:c.length-u+c.oldValue-1}),c.length=u-c.oldValue))}),r=d;break;case n._const.addElement:var w=(m=a[n._const.route].slice()).splice(m.length-1,1)[0];r=(l=Dt(o,m))===null||l===void 0?void 0:l.node,p=j(a[n._const.element]),r.childNodes||(r.childNodes=[]),w>=r.childNodes.length?r.childNodes.push(p):r.childNodes.splice(w,0,p),r.subsets&&r.subsets.forEach(function(c){if(c.oldValue>=w)c.oldValue+=1;else if(c.oldValue<w&&c.oldValue+c.length>w){var _=c.oldValue+c.length-w;h.push({newValue:c.newValue+c.length-_,oldValue:w+1,length:_}),c.length-=_}});break;case n._const.removeTextElement:d.childNodes.splice(u,1),d.nodeName==="TEXTAREA"&&delete d.value,d.subsets&&d.subsets.forEach(function(c){c.oldValue>u?c.oldValue-=1:c.oldValue===u?c.delete=!0:c.oldValue<u&&c.oldValue+c.length>u&&(c.oldValue+c.length-1===u?c.length--:(h.push({newValue:c.newValue+u-c.oldValue,oldValue:u,length:c.length-u+c.oldValue-1}),c.length=u-c.oldValue))}),r=d;break;case n._const.addTextElement:var D=(m=a[n._const.route].slice()).splice(m.length-1,1)[0];p={nodeName:"#text",data:a[n._const.value]},(r=Dt(o,m).node).childNodes||(r.childNodes=[]),D>=r.childNodes.length?r.childNodes.push(p):r.childNodes.splice(D,0,p),r.nodeName==="TEXTAREA"&&(r.value=a[n._const.newValue]),r.subsets&&r.subsets.forEach(function(c){if(c.oldValue>=D&&(c.oldValue+=1),c.oldValue<D&&c.oldValue+c.length>D){var _=c.oldValue+c.length-D;h.push({newValue:c.newValue+c.length-_,oldValue:D+1,length:_}),c.length-=_}});break;default:console.log("unknown action")}r.subsets&&(r.subsets=r.subsets.filter(function(c){return!c.delete&&c.oldValue!==c.newValue}),h.length&&(r.subsets=r.subsets.concat(h))),n.postVirtualDiffApply({node:g.node,diff:g.diff,newNode:p})})(i,s,e)}),!0}function tt(i,t){t===void 0&&(t={valueDiffing:!0,simplifiedElementCheck:!0});var e={nodeName:i.nodeName};return Y(i,t.simplifiedElementCheck,"Text","Comment")?e.data=i.data:(i.attributes&&i.attributes.length>0&&(e.attributes={},Array.prototype.slice.call(i.attributes).forEach(function(s){return e.attributes[s.name]=s.value})),i.childNodes&&i.childNodes.length>0&&(e.childNodes=[],Array.prototype.slice.call(i.childNodes).forEach(function(s){return e.childNodes.push(tt(s,t))})),t.valueDiffing&&(Y(i,t.simplifiedElementCheck,"HTMLTextAreaElement")&&(e.value=i.value),Y(i,t.simplifiedElementCheck,"HTMLInputElement")&&["radio","checkbox"].includes(i.type.toLowerCase())&&i.checked!==void 0?e.checked=i.checked:Y(i,t.simplifiedElementCheck,"HTMLButtonElement","HTMLDataElement","HTMLInputElement","HTMLLIElement","HTMLMeterElement","HTMLOptionElement","HTMLProgressElement","HTMLParamElement")&&(e.value=i.value),Y(i,t.simplifiedElementCheck,"HTMLOptionElement")&&(e.selected=i.selected))),e}var Zt=/<\s*\/*[a-zA-Z:_][a-zA-Z0-9:_\-.]*\s*(?:"[^"]*"['"]*|'[^']*'['"]*|[^'"/>])*\/*\s*>|<!--(?:.|\n|\r)*?-->/g,Gt=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?("[^"]*"|'[^']*')/g;function At(i){return i.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}var Kt={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuItem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Lt=function(i,t){var e={nodeName:"",attributes:{}},s=!1,o=i.match(/<\/?([^\s]+?)[/\s>]/);if(o&&(e.nodeName=t||o[1]==="svg"?o[1]:o[1].toUpperCase(),(Kt[o[1]]||i.charAt(i.length-2)==="/")&&(s=!0),e.nodeName.startsWith("!--"))){var a=i.indexOf("-->");return{type:"comment",node:{nodeName:"#comment",data:a!==-1?i.slice(4,a):""},voidElement:s}}for(var n=new RegExp(Gt),l=null,r=!1;!r;)if((l=n.exec(i))===null)r=!0;else if(l[0].trim())if(l[1]){var d=l[1].trim(),u=[d,""];d.indexOf("=")>-1&&(u=d.split("=")),e.attributes[u[0]]=u[1],n.lastIndex--}else l[2]&&(e.attributes[l[2]]=l[3].trim().substring(1,l[3].length-1));return{type:"tag",node:e,voidElement:s}},et=function(i,t){t===void 0&&(t={valueDiffing:!0,caseSensitive:!1});var e,s=[],o=-1,a=[],n=!1;if(i.indexOf("<")!==0){var l=i.indexOf("<");s.push({nodeName:"#text",data:l===-1?i:i.substring(0,l)})}return i.replace(Zt,function(r,d){var u=r.charAt(1)!=="/",f=r.startsWith("<!--"),p=d+r.length,m=i.charAt(p);if(f){var h=Lt(r,t.caseSensitive).node;if(o<0)return s.push(h),"";var g=a[o];return g&&h.nodeName&&(g.node.childNodes||(g.node.childNodes=[]),g.node.childNodes.push(h)),""}if(u){if((e=Lt(r,t.caseSensitive||n)).node.nodeName==="svg"&&(n=!0),o++,!e.voidElement&&m&&m!=="<"){e.node.childNodes||(e.node.childNodes=[]);var w=At(i.slice(p,i.indexOf("<",p)));e.node.childNodes.push({nodeName:"#text",data:w}),t.valueDiffing&&e.node.nodeName==="TEXTAREA"&&(e.node.value=w)}o===0&&e.node.nodeName&&s.push(e.node);var D=a[o-1];D&&e.node.nodeName&&(D.node.childNodes||(D.node.childNodes=[]),D.node.childNodes.push(e.node)),a[o]=e}if((!u||e.voidElement)&&(o>-1&&(e.voidElement||t.caseSensitive&&e.node.nodeName===r.slice(2,-1)||!t.caseSensitive&&e.node.nodeName.toUpperCase()===r.slice(2,-1).toUpperCase())&&--o>-1&&(e.node.nodeName==="svg"&&(n=!1),e=a[o]),m!=="<"&&m)){var c=o===-1?s:a[o].node.childNodes||[],_=i.indexOf("<",p);w=At(i.slice(p,_===-1?void 0:_)),c.push({nodeName:"#text",data:w})}return""}),s[0]},te=(function(){function i(t,e,s){this.options=s,this.t1=typeof Element<"u"&&Y(t,this.options.simplifiedElementCheck,"Element")?tt(t,this.options):typeof t=="string"?et(t,this.options):JSON.parse(JSON.stringify(t)),this.t2=typeof Element<"u"&&Y(e,this.options.simplifiedElementCheck,"Element")?tt(e,this.options):typeof e=="string"?et(e,this.options):JSON.parse(JSON.stringify(e)),this.diffcount=0,this.foundAll=!1,this.debug&&(this.t1Orig=typeof Element<"u"&&Y(t,this.options.simplifiedElementCheck,"Element")?tt(t,this.options):typeof t=="string"?et(t,this.options):JSON.parse(JSON.stringify(t)),this.t2Orig=typeof Element<"u"&&Y(e,this.options.simplifiedElementCheck,"Element")?tt(e,this.options):typeof e=="string"?et(e,this.options):JSON.parse(JSON.stringify(e))),this.tracker=new Qt}return i.prototype.init=function(){return this.findDiffs(this.t1,this.t2)},i.prototype.findDiffs=function(t,e){var s;do{if(this.options.debug&&(this.diffcount+=1,this.diffcount>this.options.diffcap))throw new Error("surpassed diffcap:".concat(JSON.stringify(this.t1Orig)," -> ").concat(JSON.stringify(this.t2Orig)));(s=this.findNextDiff(t,e,[])).length===0&&(Ot(t,e)||(this.foundAll?console.error("Could not find remaining diffs!"):(this.foundAll=!0,Yt(t),s=this.findNextDiff(t,e,[])))),s.length>0&&(this.foundAll=!1,this.tracker.add(s),Xt(t,s,this.options))}while(s.length>0);return this.tracker.list},i.prototype.findNextDiff=function(t,e,s){var o,a;if(this.options.maxDepth&&s.length>this.options.maxDepth)return[];if(!t.outerDone){if(o=this.findOuterDiff(t,e,s),this.options.filterOuterDiff&&(a=this.options.filterOuterDiff(t,e,o))&&(o=a),o.length>0)return t.outerDone=!0,o;t.outerDone=!0}if(Object.prototype.hasOwnProperty.call(t,"data"))return[];if(!t.innerDone){if((o=this.findInnerDiff(t,e,s)).length>0)return o;t.innerDone=!0}if(this.options.valueDiffing&&!t.valueDone){if((o=this.findValueDiff(t,e,s)).length>0)return t.valueDone=!0,o;t.valueDone=!0}return[]},i.prototype.findOuterDiff=function(t,e,s){var o,a,n,l,r,d,u=[];if(t.nodeName!==e.nodeName){if(!s.length)throw new Error("Top level nodes have to be of the same kind.");return[new H().setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,j(t)).setValue(this.options._const.newValue,j(e)).setValue(this.options._const.route,s)]}if(s.length&&this.options.diffcap<Math.abs((t.childNodes||[]).length-(e.childNodes||[]).length))return[new H().setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,j(t)).setValue(this.options._const.newValue,j(e)).setValue(this.options._const.route,s)];if(Object.prototype.hasOwnProperty.call(t,"data")&&t.data!==e.data)return t.nodeName==="#text"?[new H().setValue(this.options._const.action,this.options._const.modifyTextElement).setValue(this.options._const.route,s).setValue(this.options._const.oldValue,t.data).setValue(this.options._const.newValue,e.data)]:[new H().setValue(this.options._const.action,this.options._const.modifyComment).setValue(this.options._const.route,s).setValue(this.options._const.oldValue,t.data).setValue(this.options._const.newValue,e.data)];for(a=t.attributes?Object.keys(t.attributes).sort():[],n=e.attributes?Object.keys(e.attributes).sort():[],l=a.length,d=0;d<l;d++)o=a[d],(r=n.indexOf(o))===-1?u.push(new H().setValue(this.options._const.action,this.options._const.removeAttribute).setValue(this.options._const.route,s).setValue(this.options._const.name,o).setValue(this.options._const.value,t.attributes[o])):(n.splice(r,1),t.attributes[o]!==e.attributes[o]&&u.push(new H().setValue(this.options._const.action,this.options._const.modifyAttribute).setValue(this.options._const.route,s).setValue(this.options._const.name,o).setValue(this.options._const.oldValue,t.attributes[o]).setValue(this.options._const.newValue,e.attributes[o])));for(l=n.length,d=0;d<l;d++)o=n[d],u.push(new H().setValue(this.options._const.action,this.options._const.addAttribute).setValue(this.options._const.route,s).setValue(this.options._const.name,o).setValue(this.options._const.value,e.attributes[o]));return u},i.prototype.findInnerDiff=function(t,e,s){var o=t.childNodes?t.childNodes.slice():[],a=e.childNodes?e.childNodes.slice():[],n=Math.max(o.length,a.length),l=Math.abs(o.length-a.length),r=[],d=0;if(!this.options.maxChildCount||n<this.options.maxChildCount){var u=!!(t.subsets&&t.subsetsAge--),f=u?t.subsets:t.childNodes&&e.childNodes?Wt(t,e):[];if(f.length>0&&(r=this.attemptGroupRelocation(t,e,f,s,u)).length>0)return r}for(var p=0;p<n;p+=1){var m=o[p],h=a[p];l&&(m&&!h?m.nodeName==="#text"?(r.push(new H().setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,s.concat(d)).setValue(this.options._const.value,m.data)),d-=1):(r.push(new H().setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.route,s.concat(d)).setValue(this.options._const.element,j(m))),d-=1):h&&!m&&(h.nodeName==="#text"?r.push(new H().setValue(this.options._const.action,this.options._const.addTextElement).setValue(this.options._const.route,s.concat(d)).setValue(this.options._const.value,h.data)):r.push(new H().setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.route,s.concat(d)).setValue(this.options._const.element,j(h))))),m&&h&&(!this.options.maxChildCount||n<this.options.maxChildCount?r=r.concat(this.findNextDiff(m,h,s.concat(d))):Ot(m,h)||(o.length>a.length?(m.nodeName==="#text"?r.push(new H().setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,s.concat(d)).setValue(this.options._const.value,m.data)):r.push(new H().setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.element,j(m)).setValue(this.options._const.route,s.concat(d))),o.splice(p,1),p-=1,d-=1,l-=1):o.length<a.length?(r=r.concat([new H().setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.element,j(h)).setValue(this.options._const.route,s.concat(d))]),o.splice(p,0,j(h)),l-=1):r=r.concat([new H().setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,j(m)).setValue(this.options._const.newValue,j(h)).setValue(this.options._const.route,s.concat(d))]))),d+=1}return t.innerDone=!0,r},i.prototype.attemptGroupRelocation=function(t,e,s,o,a){for(var n,l,r,d,u,f=(function(C,A,O){var x=C.childNodes?pt(C.childNodes.length,!0):[],L=A.childNodes?pt(A.childNodes.length,!0):[],P=0;return O.forEach(function(N){for(var v=N.oldValue+N.length,b=N.newValue+N.length,M=N.oldValue;M<v;M+=1)x[M]=P;for(M=N.newValue;M<b;M+=1)L[M]=P;P+=1}),{gaps1:x,gaps2:L}})(t,e,s),p=f.gaps1,m=f.gaps2,h=t.childNodes.slice(),g=e.childNodes.slice(),w=Math.min(p.length,m.length),D=[],c=0,_=0;c<w;_+=1,c+=1)if(!a||p[c]!==!0&&m[c]!==!0){if(p[_]===!0)if((d=h[_]).nodeName==="#text")if(g[c].nodeName==="#text"){if(d.data!==g[c].data){for(var S=_;h.length>S+1&&h[S+1].nodeName==="#text";)if(S+=1,g[c].data===h[S].data){u=!0;break}u||D.push(new H().setValue(this.options._const.action,this.options._const.modifyTextElement).setValue(this.options._const.route,o.concat(_)).setValue(this.options._const.oldValue,d.data).setValue(this.options._const.newValue,g[c].data))}}else D.push(new H().setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,o.concat(_)).setValue(this.options._const.value,d.data)),p.splice(_,1),h.splice(_,1),w=Math.min(p.length,m.length),_-=1,c-=1;else m[c]===!0?D.push(new H().setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,j(d)).setValue(this.options._const.newValue,j(g[c])).setValue(this.options._const.route,o.concat(_))):(D.push(new H().setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.route,o.concat(_)).setValue(this.options._const.element,j(d))),p.splice(_,1),h.splice(_,1),w=Math.min(p.length,m.length),_-=1,c-=1);else if(m[c]===!0)(d=g[c]).nodeName==="#text"?(D.push(new H().setValue(this.options._const.action,this.options._const.addTextElement).setValue(this.options._const.route,o.concat(_)).setValue(this.options._const.value,d.data)),p.splice(_,0,!0),h.splice(_,0,{nodeName:"#text",data:d.data}),w=Math.min(p.length,m.length)):(D.push(new H().setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.route,o.concat(_)).setValue(this.options._const.element,j(d))),p.splice(_,0,!0),h.splice(_,0,j(d)),w=Math.min(p.length,m.length));else if(p[_]!==m[c]){if(D.length>0)return D;if(r=s[p[_]],(l=Math.min(r.newValue,h.length-r.length))!==r.oldValue&&l>-1){n=!1;for(var T=0;T<r.length;T+=1)$t(h[l+T],h[r.oldValue+T],{},!1,!0)||(n=!0);if(n)return[new H().setValue(this.options._const.action,this.options._const.relocateGroup).setValue(this.options._const.groupLength,r.length).setValue(this.options._const.from,r.oldValue).setValue(this.options._const.to,l).setValue(this.options._const.route,o)]}}}return D},i.prototype.findValueDiff=function(t,e,s){var o=[];return t.selected!==e.selected&&o.push(new H().setValue(this.options._const.action,this.options._const.modifySelected).setValue(this.options._const.oldValue,t.selected).setValue(this.options._const.newValue,e.selected).setValue(this.options._const.route,s)),(t.value||e.value)&&t.value!==e.value&&t.nodeName!=="OPTION"&&o.push(new H().setValue(this.options._const.action,this.options._const.modifyValue).setValue(this.options._const.oldValue,t.value||"").setValue(this.options._const.newValue,e.value||"").setValue(this.options._const.route,s)),t.checked!==e.checked&&o.push(new H().setValue(this.options._const.action,this.options._const.modifyChecked).setValue(this.options._const.oldValue,t.checked).setValue(this.options._const.newValue,e.checked).setValue(this.options._const.route,s)),o},i})(),ee={debug:!1,diffcap:10,maxDepth:!1,maxChildCount:50,valueDiffing:!0,simplifiedElementCheck:!1,textDiff:function(i,t,e,s){i.data=s},preVirtualDiffApply:function(){},postVirtualDiffApply:function(){},preDiffApply:function(){},postDiffApply:function(){},filterOuterDiff:null,compress:!1,_const:!1,document:!(typeof window>"u"||!window.document)&&window.document,components:[]},se=(function(){function i(t){if(t===void 0&&(t={}),Object.entries(ee).forEach(function(o){var a=o[0],n=o[1];Object.prototype.hasOwnProperty.call(t,a)||(t[a]=n)}),!t._const){var e=["addAttribute","modifyAttribute","removeAttribute","modifyTextElement","relocateGroup","removeElement","addElement","removeTextElement","addTextElement","replaceElement","modifyValue","modifyChecked","modifySelected","modifyComment","action","route","oldValue","newValue","element","group","groupLength","from","to","name","value","data","attributes","nodeName","childNodes","checked","selected"],s={};t.compress?e.forEach(function(o,a){return s[o]=a}):e.forEach(function(o){return s[o]=o}),t._const=s}this.options=t}return i.prototype.apply=function(t,e){return(function(s,o,a){return o.every(function(n){return W(s,n,a)})})(t,e,this.options)},i.prototype.undo=function(t,e){return Jt(t,e,this.options)},i.prototype.diff=function(t,e){return new te(t,e,this.options).init()},i})(),Vt=(i,t,e,{classes:s,format:o,hiddenHeader:a,sortable:n,scrollY:l,type:r},{noColumnWidths:d,unhideHeader:u})=>({nodeName:"TR",childNodes:i.map((f,p)=>{let m=t[p]||{sortable:!0};if(m.hidden||f.attributes?.["data-colspan-placeholder"]==="true")return;let h=f.attributes?{...f.attributes}:{};if(m.sortable&&n&&(!l.length||u)&&(m.filter?h["data-filterable"]="true":h["data-sortable"]="true"),m.headerClass&&(h.class=U(h.class,m.headerClass)),e.sort&&e.sort.column===p){let w=e.sort.dir==="asc"?s.ascending:s.descending;h.class=U(h.class,w),h["aria-sort"]=e.sort.dir==="asc"?"ascending":"descending"}else e.filters[p]&&(h.class=U(h.class,s.filterActive));if(e.widths[p]&&!d){let w=`width: ${e.widths[p]}%;`;h.style=U(h.style,w)}if(l.length&&!u){let w="padding-bottom: 0;padding-top: 0;border: 0;";h.style=U(h.style,w)}let g=f.type==="html"?f.data:[{nodeName:"#text",data:f.text??String(f.data)}];return{nodeName:"TH",attributes:h,childNodes:!a&&!l.length||u?m.sortable&&n?[{nodeName:"BUTTON",attributes:{class:m.filter?s.filter:s.sorter},childNodes:g}]:g:[{nodeName:"#text",data:""}]}}).filter(f=>f)}),Pt=(i,t,e,s,o,a,{classes:n,hiddenHeader:l,header:r,footer:d,format:u,sortable:f,scrollY:p,type:m,rowRender:h,tabIndex:g},{noColumnWidths:w,unhideHeader:D,renderHeader:c},_,S)=>{let T={nodeName:"TABLE",attributes:{...i},childNodes:[{nodeName:"TBODY",childNodes:e.map(({row:C,index:A})=>{let O={nodeName:"TR",attributes:{...C.attributes,"data-index":String(A)},childNodes:C.cells.map((x,L)=>{let P=s[L]||{type:m,format:u,sortable:!0,searchable:!0};if(P.hidden||x.attributes?.["data-colspan-placeholder"]==="true"||x.attributes?.["data-rowspan-placeholder"]==="true")return;let N={nodeName:"TD",attributes:x.attributes?{...x.attributes}:{},childNodes:P.type==="html"?x.data:[{nodeName:"#text",data:nt(x)}]};if(r||d||!o.widths[L]||w||(N.attributes.style=U(N.attributes.style,`width: ${o.widths[L]}%;`)),P.cellClass&&(N.attributes.class=U(N.attributes.class,P.cellClass)),P.render){let v=P.render(x.data,N,A,L);if(v){if(typeof v!="string")return v;{let b=et(`<td>${v}</td>`);b.childNodes.length===1&&["#text","#comment"].includes(b.childNodes[0].nodeName)?N.childNodes[0].data=v:N.childNodes=b.childNodes}}}return N}).filter(x=>x)};if(A===a&&(O.attributes.class=U(O.attributes.class,n.cursor)),h){let x=h(C,O,A);if(x){if(typeof x!="string")return x;{let L=et(`<tr>${x}</tr>`);!L.childNodes||L.childNodes.length===1&&["#text","#comment"].includes(L.childNodes[0].nodeName)?O.childNodes[0].data=x:O.childNodes=L.childNodes}}}return O})}]};if(T.attributes.class=U(T.attributes.class,n.table),r||d||c){let C=Vt(t,s,o,{classes:n,hiddenHeader:l,sortable:f,scrollY:p},{noColumnWidths:w,unhideHeader:D});if(r||c){let A={nodeName:"THEAD",childNodes:[C]};!p.length&&!l||D||(A.attributes={style:"height: 0px;"}),T.childNodes.unshift(A)}if(d){let A={nodeName:"TFOOT",childNodes:[r?structuredClone(C):C]};!p.length&&!l||D||(A.attributes={style:"height: 0px;"}),T.childNodes.push(A)}}return _.forEach(C=>T.childNodes.push(C)),S.forEach(C=>T.childNodes.push(C)),g!==!1&&(T.attributes.tabindex=String(g)),T};function jt(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var ie={exports:{}},ot=jt(ie.exports=(function(){var i=1e3,t=6e4,e=36e5,s="millisecond",o="second",a="minute",n="hour",l="day",r="week",d="month",u="quarter",f="year",p="date",m="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,w={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(N){var v=["th","st","nd","rd"],b=N%100;return"["+N+(v[(b-20)%10]||v[b]||v[0])+"]"}},D=function(N,v,b){var M=String(N);return!M||M.length>=v?N:""+Array(v+1-M.length).join(b)+N},c={s:D,z:function(N){var v=-N.utcOffset(),b=Math.abs(v),M=Math.floor(b/60),y=b%60;return(v<=0?"+":"-")+D(M,2,"0")+":"+D(y,2,"0")},m:function N(v,b){if(v.date()<b.date())return-N(b,v);var M=12*(b.year()-v.year())+(b.month()-v.month()),y=v.clone().add(M,d),E=b-y<0,V=v.clone().add(M+(E?-1:1),d);return+(-(M+(b-y)/(E?y-V:V-y))||0)},a:function(N){return N<0?Math.ceil(N)||0:Math.floor(N)},p:function(N){return{M:d,y:f,w:r,d:l,D:p,h:n,m:a,s:o,ms:s,Q:u}[N]||String(N||"").toLowerCase().replace(/s$/,"")},u:function(N){return N===void 0}},_="en",S={};S[_]=w;var T="$isDayjsObject",C=function(N){return N instanceof L||!(!N||!N[T])},A=function N(v,b,M){var y;if(!v)return _;if(typeof v=="string"){var E=v.toLowerCase();S[E]&&(y=E),b&&(S[E]=b,y=E);var V=v.split("-");if(!y&&V.length>1)return N(V[0])}else{var k=v.name;S[k]=v,y=k}return!M&&y&&(_=y),y||!M&&_},O=function(N,v){if(C(N))return N.clone();var b=typeof v=="object"?v:{};return b.date=N,b.args=arguments,new L(b)},x=c;x.l=A,x.i=C,x.w=function(N,v){return O(N,{locale:v.$L,utc:v.$u,x:v.$x,$offset:v.$offset})};var L=(function(){function N(b){this.$L=A(b.locale,null,!0),this.parse(b),this.$x=this.$x||b.x||{},this[T]=!0}var v=N.prototype;return v.parse=function(b){this.$d=(function(M){var y=M.date,E=M.utc;if(y===null)return new Date(NaN);if(x.u(y))return new Date;if(y instanceof Date)return new Date(y);if(typeof y=="string"&&!/Z$/i.test(y)){var V=y.match(h);if(V){var k=V[2]-1||0,R=(V[7]||"0").substring(0,3);return E?new Date(Date.UTC(V[1],k,V[3]||1,V[4]||0,V[5]||0,V[6]||0,R)):new Date(V[1],k,V[3]||1,V[4]||0,V[5]||0,V[6]||0,R)}}return new Date(y)})(b),this.init()},v.init=function(){var b=this.$d;this.$y=b.getFullYear(),this.$M=b.getMonth(),this.$D=b.getDate(),this.$W=b.getDay(),this.$H=b.getHours(),this.$m=b.getMinutes(),this.$s=b.getSeconds(),this.$ms=b.getMilliseconds()},v.$utils=function(){return x},v.isValid=function(){return this.$d.toString()!==m},v.isSame=function(b,M){var y=O(b);return this.startOf(M)<=y&&y<=this.endOf(M)},v.isAfter=function(b,M){return O(b)<this.startOf(M)},v.isBefore=function(b,M){return this.endOf(M)<O(b)},v.$g=function(b,M,y){return x.u(b)?this[M]:this.set(y,b)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(b,M){var y=this,E=!!x.u(M)||M,V=x.p(b),k=function(J,q){var z=x.w(y.$u?Date.UTC(y.$y,q,J):new Date(y.$y,q,J),y);return E?z:z.endOf(l)},R=function(J,q){return x.w(y.toDate()[J].apply(y.toDate("s"),(E?[0,0,0,0]:[23,59,59,999]).slice(q)),y)},I=this.$W,F=this.$M,B=this.$D,Z="set"+(this.$u?"UTC":"");switch(V){case f:return E?k(1,0):k(31,11);case d:return E?k(1,F):k(0,F+1);case r:var Q=this.$locale().weekStart||0,it=(I<Q?I+7:I)-Q;return k(E?B-it:B+(6-it),F);case l:case p:return R(Z+"Hours",0);case n:return R(Z+"Minutes",1);case a:return R(Z+"Seconds",2);case o:return R(Z+"Milliseconds",3);default:return this.clone()}},v.endOf=function(b){return this.startOf(b,!1)},v.$set=function(b,M){var y,E=x.p(b),V="set"+(this.$u?"UTC":""),k=(y={},y[l]=V+"Date",y[p]=V+"Date",y[d]=V+"Month",y[f]=V+"FullYear",y[n]=V+"Hours",y[a]=V+"Minutes",y[o]=V+"Seconds",y[s]=V+"Milliseconds",y)[E],R=E===l?this.$D+(M-this.$W):M;if(E===d||E===f){var I=this.clone().set(p,1);I.$d[k](R),I.init(),this.$d=I.set(p,Math.min(this.$D,I.daysInMonth())).$d}else k&&this.$d[k](R);return this.init(),this},v.set=function(b,M){return this.clone().$set(b,M)},v.get=function(b){return this[x.p(b)]()},v.add=function(b,M){var y,E=this;b=Number(b);var V=x.p(M),k=function(F){var B=O(E);return x.w(B.date(B.date()+Math.round(F*b)),E)};if(V===d)return this.set(d,this.$M+b);if(V===f)return this.set(f,this.$y+b);if(V===l)return k(1);if(V===r)return k(7);var R=(y={},y[a]=t,y[n]=e,y[o]=i,y)[V]||1,I=this.$d.getTime()+b*R;return x.w(I,this)},v.subtract=function(b,M){return this.add(-1*b,M)},v.format=function(b){var M=this,y=this.$locale();if(!this.isValid())return y.invalidDate||m;var E=b||"YYYY-MM-DDTHH:mm:ssZ",V=x.z(this),k=this.$H,R=this.$m,I=this.$M,F=y.weekdays,B=y.months,Z=y.meridiem,Q=function(q,z,X,G){return q&&(q[z]||q(M,E))||X[z].slice(0,G)},it=function(q){return x.s(k%12||12,q,"0")},J=Z||function(q,z,X){var G=q<12?"AM":"PM";return X?G.toLowerCase():G};return E.replace(g,function(q,z){return z||(function(X){switch(X){case"YY":return String(M.$y).slice(-2);case"YYYY":return x.s(M.$y,4,"0");case"M":return I+1;case"MM":return x.s(I+1,2,"0");case"MMM":return Q(y.monthsShort,I,B,3);case"MMMM":return Q(B,I);case"D":return M.$D;case"DD":return x.s(M.$D,2,"0");case"d":return String(M.$W);case"dd":return Q(y.weekdaysMin,M.$W,F,2);case"ddd":return Q(y.weekdaysShort,M.$W,F,3);case"dddd":return F[M.$W];case"H":return String(k);case"HH":return x.s(k,2,"0");case"h":return it(1);case"hh":return it(2);case"a":return J(k,R,!0);case"A":return J(k,R,!1);case"m":return String(R);case"mm":return x.s(R,2,"0");case"s":return String(M.$s);case"ss":return x.s(M.$s,2,"0");case"SSS":return x.s(M.$ms,3,"0");case"Z":return V}return null})(q)||V.replace(":","")})},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(b,M,y){var E,V=this,k=x.p(M),R=O(b),I=(R.utcOffset()-this.utcOffset())*t,F=this-R,B=function(){return x.m(V,R)};switch(k){case f:E=B()/12;break;case d:E=B();break;case u:E=B()/3;break;case r:E=(F-I)/6048e5;break;case l:E=(F-I)/864e5;break;case n:E=F/e;break;case a:E=F/t;break;case o:E=F/i;break;default:E=F}return y?E:x.a(E)},v.daysInMonth=function(){return this.endOf(d).$D},v.$locale=function(){return S[this.$L]},v.locale=function(b,M){if(!b)return this.$L;var y=this.clone(),E=A(b,M,!0);return E&&(y.$L=E),y},v.clone=function(){return x.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},N})(),P=L.prototype;return O.prototype=P,[["$ms",s],["$s",o],["$m",a],["$H",n],["$W",l],["$M",d],["$y",f],["$D",p]].forEach(function(N){P[N[1]]=function(v){return this.$g(v,N[0],N[1])}}),O.extend=function(N,v){return N.$i||(N(v,L,O),N.$i=!0),O},O.locale=A,O.isDayjs=C,O.unix=function(N){return O(1e3*N)},O.en=S[_],O.Ls=S,O.p={},O})()),ne={exports:{}},ae=jt(ne.exports=(function(){var i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,e=/\d/,s=/\d\d/,o=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,n={},l=function(h){return(h=+h)+(h>68?1900:2e3)},r=function(h){return function(g){this[h]=+g}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(h){(this.zone||(this.zone={})).offset=(function(g){if(!g||g==="Z")return 0;var w=g.match(/([+-]|\d\d)/g),D=60*w[1]+(+w[2]||0);return D===0?0:w[0]==="+"?-D:D})(h)}],u=function(h){var g=n[h];return g&&(g.indexOf?g:g.s.concat(g.f))},f=function(h,g){var w,D=n.meridiem;if(D){for(var c=1;c<=24;c+=1)if(h.indexOf(D(c,0,g))>-1){w=c>12;break}}else w=h===(g?"pm":"PM");return w},p={A:[a,function(h){this.afternoon=f(h,!1)}],a:[a,function(h){this.afternoon=f(h,!0)}],Q:[e,function(h){this.month=3*(h-1)+1}],S:[e,function(h){this.milliseconds=100*+h}],SS:[s,function(h){this.milliseconds=10*+h}],SSS:[/\d{3}/,function(h){this.milliseconds=+h}],s:[o,r("seconds")],ss:[o,r("seconds")],m:[o,r("minutes")],mm:[o,r("minutes")],H:[o,r("hours")],h:[o,r("hours")],HH:[o,r("hours")],hh:[o,r("hours")],D:[o,r("day")],DD:[s,r("day")],Do:[a,function(h){var g=n.ordinal,w=h.match(/\d+/);if(this.day=w[0],g)for(var D=1;D<=31;D+=1)g(D).replace(/\[|\]/g,"")===h&&(this.day=D)}],w:[o,r("week")],ww:[s,r("week")],M:[o,r("month")],MM:[s,r("month")],MMM:[a,function(h){var g=u("months"),w=(u("monthsShort")||g.map(function(D){return D.slice(0,3)})).indexOf(h)+1;if(w<1)throw new Error;this.month=w%12||w}],MMMM:[a,function(h){var g=u("months").indexOf(h)+1;if(g<1)throw new Error;this.month=g%12||g}],Y:[/[+-]?\d+/,r("year")],YY:[s,function(h){this.year=l(h)}],YYYY:[/\d{4}/,r("year")],Z:d,ZZ:d};function m(h){var g,w;g=h,w=n&&n.formats;for(var D=(h=g.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(O,x,L){var P=L&&L.toUpperCase();return x||w[L]||i[L]||w[P].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(N,v,b){return v||b.slice(1)})})).match(t),c=D.length,_=0;_<c;_+=1){var S=D[_],T=p[S],C=T&&T[0],A=T&&T[1];D[_]=A?{regex:C,parser:A}:S.replace(/^\[|\]$/g,"")}return function(O){for(var x={},L=0,P=0;L<c;L+=1){var N=D[L];if(typeof N=="string")P+=N.length;else{var v=N.regex,b=N.parser,M=O.slice(P),y=v.exec(M)[0];b.call(x,y),O=O.replace(y,"")}}return(function(E){var V=E.afternoon;if(V!==void 0){var k=E.hours;V?k<12&&(E.hours+=12):k===12&&(E.hours=0),delete E.afternoon}})(x),x}}return function(h,g,w){w.p.customParseFormat=!0,h&&h.parseTwoDigitYear&&(l=h.parseTwoDigitYear);var D=g.prototype,c=D.parse;D.parse=function(_){var S=_.date,T=_.utc,C=_.args;this.$u=T;var A=C[1];if(typeof A=="string"){var O=C[2]===!0,x=C[3]===!0,L=O||x,P=C[2];x&&(P=C[2]),n=this.$locale(),!O&&P&&(n=w.Ls[P]),this.$d=(function(M,y,E,V){try{if(["x","X"].indexOf(y)>-1)return new Date((y==="X"?1e3:1)*M);var k=m(y)(M),R=k.year,I=k.month,F=k.day,B=k.hours,Z=k.minutes,Q=k.seconds,it=k.milliseconds,J=k.zone,q=k.week,z=new Date,X=F||(R||I?1:z.getDate()),G=R||z.getFullYear(),dt=0;R&&!I||(dt=I>0?I-1:z.getMonth());var ct,mt=B||0,gt=Z||0,bt=Q||0,vt=it||0;return J?new Date(Date.UTC(G,dt,X,mt,gt,bt,vt+60*J.offset*1e3)):E?new Date(Date.UTC(G,dt,X,mt,gt,bt,vt)):(ct=new Date(G,dt,X,mt,gt,bt,vt),q&&(ct=V(ct).week(q).toDate()),ct)}catch{return new Date("")}})(S,A,T,w),this.init(),P&&P!==!0&&(this.$L=this.locale(P).$L),L&&S!=this.format(A)&&(this.$d=new Date("")),n={}}else if(A instanceof Array)for(var N=A.length,v=1;v<=N;v+=1){C[1]=A[v-1];var b=w.apply(this,C);if(b.isValid()){this.$d=b.$d,this.$L=b.$L,this.init();break}v===N&&(this.$d=new Date(""))}else c.call(this,_)}}})());ot.extend(ae);var Ft=(i,t)=>{let e;if(t)switch(t){case"ISO_8601":e=i;break;case"RFC_2822":e=ot(i.slice(5),"DD MMM YYYY HH:mm:ss ZZ").unix();break;case"MYSQL":e=ot(i,"YYYY-MM-DD hh:mm:ss").unix();break;case"UNIX":e=ot(i).unix();break;default:e=ot(i,t,!0).valueOf()}return e},st=(i,t)=>{let e,s,o;if(i?.constructor===Object&&Object.prototype.hasOwnProperty.call(i,"data")&&!Object.keys(i).find(a=>!["text","order","data","attributes"].includes(a))){let a=i;if(s=a.data,o=a.attributes,a.text!==void 0&&a.order!==void 0)return a;e={data:a.data,text:a.text,order:a.order,attributes:a.attributes}}else s=i,e={data:i};if(e.text===void 0||e.order===void 0)switch(t.type){case"string":typeof s!="string"&&(e.text=e.text??String(e.data),e.order=e.order??e.text);break;case"date":t.format&&(e.order=e.order??Ft(String(e.data),t.format));break;case"number":e.text=e.text??String(e.data),e.data=parseFloat(e.data),e.order=e.order??e.data;break;case"html":{let a=Array.isArray(e.data)?{nodeName:"TD",childNodes:e.data}:et(`<td>${String(e.data)}</td>`);e.data=a.childNodes||[];let n=lt(a);e.text=e.text??n,e.order=e.order??n;break}case"boolean":typeof e.data=="string"&&(e.data=e.data.toLowerCase().trim()),e.data=!["false",!1,null,void 0,0].includes(e.data),e.order=e.order??(e.data?1:0),e.text=e.text??String(e.data);break;case"other":e.text=e.text??"",e.order=e.order??0;break;default:e.text=e.text??JSON.stringify(e.data)}return o&&(e.attributes=o),e},oe=(i,t)=>{let e;switch(t.type){case"string":e={data:i.innerText};break;case"date":{let s=i.innerText;e={data:s,order:Ft(s,t.format)};break}case"number":{let s=parseFloat(i.innerText);e={data:s,order:s,text:i.innerText};break}case"boolean":{let s=!["false","0","null","undefined"].includes(i.innerText.toLowerCase().trim());e={data:s,text:s?"1":"0",order:s?1:0};break}default:e={data:tt(i,{valueDiffing:!1}).childNodes||[],text:i.innerText,order:i.innerText};break}return e.attributes=Ht(i.attributes),e},rt=i=>{if(i instanceof Object&&i.constructor===Object&&i.hasOwnProperty("data")){let e=i;return typeof e.data=="string"&&(e.text||(e.text=e.data),e.type||(e.type="string")),e}let t={data:i};if(typeof i=="string"){if(i.length){let e=et(`<th>${i}</th>`);if(e.childNodes&&(e.childNodes.length!==1||e.childNodes[0].nodeName!=="#text")){t.data=e.childNodes,t.type="html";let s=lt(e);t.text=s}}}else[null,void 0].includes(i)?t.text="":t.text=JSON.stringify(i);return t},Rt=(i,t=void 0,e,s,o)=>{let a={data:[],headings:[]};if(i.headings){let n=[];i.headings.forEach(l=>{let r=rt(l),d=parseInt(r.attributes?.colspan||"1",10);n.push(r);for(let u=1;u<d;u++)n.push({data:"",text:"",attributes:{"data-colspan-placeholder":"true"}})}),a.headings=n}else if(t?.tHead){let n=[];Array.from(t.tHead.querySelectorAll("th")).forEach(r=>{let d=parseInt(r.getAttribute("colspan")||"1",10),u=(f=>{let p=tt(f,{valueDiffing:!1}),m;return m=!p.childNodes||p.childNodes.length===1&&p.childNodes[0].nodeName==="#text"?{data:f.innerText,type:"string"}:{data:p.childNodes,type:"html",text:lt(p)},m.attributes=p.attributes,m})(r);n.push(u);for(let f=1;f<d;f++)n.push({data:"",text:"",attributes:{"data-colspan-placeholder":"true"}})}),a.headings=n;let l=0;Array.from(t.tHead.querySelectorAll("th")).forEach(r=>{let d=parseInt(r.getAttribute("colspan")||"1",10);for(let u=0;u<d;u++){e[l]||(e[l]={type:s,format:o,searchable:!0,sortable:!0});let f=e[l];u===0&&(r.dataset.sortable?.trim().toLowerCase()!=="false"&&r.dataset.sort?.trim().toLowerCase()!=="false"||(f.sortable=!1),r.dataset.searchable?.trim().toLowerCase()==="false"&&(f.searchable=!1),r.dataset.hidden?.trim().toLowerCase()!=="true"&&r.getAttribute("hidden")?.trim().toLowerCase()!=="true"||(f.hidden=!0),r.dataset.type&&["number","string","html","date","boolean","other"].includes(r.dataset.type)&&(f.type=r.dataset.type,f.type==="date"&&r.dataset.format&&(f.format=r.dataset.format))),l++}})}else if(i.data?.length){let n=i.data[0],l=Array.isArray(n)?n:n.cells;a.headings=l.map(r=>rt(""))}else t?.tBodies.length&&(a.headings=Array.from(t.tBodies[0].rows[0].cells).map(n=>rt("")));for(let n=0;n<a.headings.length;n++)e[n]||(e[n]={type:s,format:o,sortable:!0,searchable:!0});if(i.data){let n=a.headings.map(r=>r.data?String(r.data):r.text),l=new Map;a.data=i.data.map((r,d)=>{let u,f;Array.isArray(r)?(u={},f=r):r.hasOwnProperty("cells")&&Object.keys(r).every(g=>["cells","attributes"].includes(g))?(u=r.attributes,f=r.cells):(u={},f=[],Object.entries(r).forEach(([g,w])=>{let D=n.indexOf(g);D>-1&&(f[D]=w)}));let p=[],m=0,h=0;for(;m<a.headings.length;)if(l.has(m)){let g=l.get(m);p.push({data:"",text:"",order:"",attributes:{"data-rowspan-placeholder":"true"}}),g.remainingRows--,g.remainingRows<=0&&l.delete(m),m++}else{if(!(h<f.length))break;{let g=f[h],w=st(g,e[m]),D=parseInt(w.attributes?.colspan||"1",10),c=parseInt(w.attributes?.rowspan||"1",10);p.push(w),c>1&&l.set(m,{remainingRows:c-1,cellData:w}),m++,h++;for(let _=1;_<D;_++)p.push({data:"",text:"",order:"",attributes:{"data-colspan-placeholder":"true"}}),m++}}return{attributes:u,cells:p}})}else if(t?.tBodies?.length){let n=new Map;a.data=Array.from(t.tBodies[0].rows).map(l=>{let r=[],d=0,u=0,f=Array.from(l.cells);for(;d<a.headings.length;)if(n.has(d)){let p=n.get(d);r.push({data:"",text:"",order:"",attributes:{"data-rowspan-placeholder":"true"}}),p.remainingRows--,p.remainingRows<=0&&n.delete(d),d++}else{if(!(u<f.length))break;{let p=f[u],m=parseInt(p.getAttribute("colspan")||"1",10),h=parseInt(p.getAttribute("rowspan")||"1",10),g=p.dataset.content?st(p.dataset.content,e[d]):oe(p,e[d]);p.dataset.order&&(g.order=isNaN(parseFloat(p.dataset.order))?p.dataset.order:parseFloat(p.dataset.order)),r.push(g),h>1&&n.set(d,{remainingRows:h-1,cellData:g}),d++,u++;for(let w=1;w<m;w++)r.push({data:"",text:"",order:"",attributes:{"data-colspan-placeholder":"true"}}),d++}}return{attributes:Ht(l.attributes),cells:r}})}if(a.data.length&&a.data[0].cells.length!==a.headings.length)throw new Error("Data heading length mismatch.");return a},Ct=class{constructor(t){$(this,"cursor");$(this,"dt");this.dt=t,this.cursor=!1}setCursor(t=!1){if(t===this.cursor)return;let e=this.cursor;if(this.cursor=t,this.dt._renderTable(),t!==!1&&this.dt.options.scrollY){let s=K(this.dt.options.classes.cursor),o=this.dt.dom.querySelector(`tr${s}`);o&&o.scrollIntoView({block:"nearest"})}this.dt.emit("datatable.cursormove",this.cursor,e)}add(t){if(!Array.isArray(t)||t.length<1)return;let e={cells:t.map((s,o)=>{let a=this.dt.columns.settings[o];return st(s,a)})};this.dt.data.data.push(e),this.dt.hasRows=!0,this.dt.update(!0)}remove(t){if(!Array.isArray(t))return this.remove([t]);this.dt.data.data=this.dt.data.data.filter((e,s)=>!t.includes(s)),this.dt.data.data.length||(this.dt.hasRows=!1),this.dt.update(!0)}findRowIndex(t,e){return this.dt.data.data.findIndex(s=>{let o=s.cells[t];return nt(o).toLowerCase().includes(String(e).toLowerCase())})}findRow(t,e){let s=this.findRowIndex(t,e);if(s<0)return{index:-1,row:null,cols:[]};let o=this.dt.data.data[s],a=o.cells.map(n=>n.data);return{index:s,row:o,cols:a}}updateRow(t,e){let s={cells:e.map((o,a)=>{let n=this.dt.columns.settings[a];return st(o,n)})};this.dt.data.data.splice(t,1,s),this.dt.update(!0)}},kt=class{constructor(t){$(this,"dt");$(this,"settings");$(this,"_state");this.dt=t,this.init()}init(){[this.settings,this._state]=((t=[],e,s)=>{let o=[],a=!1,n=[];return t.forEach(l=>{(Array.isArray(l.select)?l.select:[l.select]).forEach(r=>{o[r]?l.type&&(o[r].type=l.type):o[r]={type:l.type||e,sortable:!0,searchable:!0};let d=o[r];l.render&&(d.render=l.render),l.format?d.format=l.format:l.type==="date"&&(d.format=s),l.cellClass&&(d.cellClass=l.cellClass),l.headerClass&&(d.headerClass=l.headerClass),l.locale&&(d.locale=l.locale),l.sortable===!1?d.sortable=!1:(l.numeric&&(d.numeric=l.numeric),l.caseFirst&&(d.caseFirst=l.caseFirst)),l.searchable===!1?d.searchable=!1:l.sensitivity&&(d.sensitivity=l.sensitivity),(d.searchable||d.sortable)&&l.ignorePunctuation!==void 0&&(d.ignorePunctuation=l.ignorePunctuation),l.searchMethod&&(d.searchMethod=l.searchMethod),l.hidden&&(d.hidden=!0),l.filter&&(d.filter=l.filter),l.sortSequence&&(d.sortSequence=l.sortSequence),l.sort&&(l.filter?n[r]=l.sort:a={column:r,dir:l.sort}),l.searchItemSeparator!==void 0&&(d.searchItemSeparator=l.searchItemSeparator)})}),o=o.map(l=>l||{type:e,format:e==="date"?s:void 0,sortable:!0,searchable:!0}),[o,{filters:n,sort:a,widths:[]}]})(this.dt.options.columns,this.dt.options.type,this.dt.options.format)}get(t){return t<0||t>=this.size()?null:{...this.settings[t]}}size(){return this.settings.length}swap(t){if(t.length===2){let e=this.dt.data.headings.map((n,l)=>l),s=t[0],o=t[1],a=e[o];return e[o]=e[s],e[s]=a,this.order(e)}}order(t){this.dt.data.headings=t.map(e=>this.dt.data.headings[e]),this.dt.data.data.forEach(e=>e.cells=t.map(s=>e.cells[s])),this.settings=t.map(e=>this.settings[e]),this.dt.update()}hide(t){Array.isArray(t)||(t=[t]),t.length&&(t.forEach(e=>{this.settings[e]||(this.settings[e]={type:"string"}),this.settings[e].hidden=!0}),this.dt.update())}show(t){Array.isArray(t)||(t=[t]),t.length&&(t.forEach(e=>{this.settings[e]||(this.settings[e]={type:"string",sortable:!0}),delete this.settings[e].hidden}),this.dt.update())}visible(t){return t===void 0&&(t=[...Array(this.dt.data.headings.length).keys()]),Array.isArray(t)?t.map(e=>!this.settings[e]?.hidden):!this.settings[t]?.hidden}add(t){let e=this.dt.data.headings.length;if(this.dt.data.headings=this.dt.data.headings.concat([rt(t.heading)]),this.dt.data.data.forEach((s,o)=>{s.cells=s.cells.concat([st(t.data[o],t)])}),this.settings[e]={type:t.type||"string",sortable:!0,searchable:!0},t.type||t.format||t.sortable||t.render||t.filter){let s=this.settings[e];t.render&&(s.render=t.render),t.format&&(s.format=t.format),t.cellClass&&(s.cellClass=t.cellClass),t.headerClass&&(s.headerClass=t.headerClass),t.locale&&(s.locale=t.locale),t.sortable===!1?s.sortable=!1:(t.numeric&&(s.numeric=t.numeric),t.caseFirst&&(s.caseFirst=t.caseFirst)),t.searchable===!1?s.searchable=!1:t.sensitivity&&(s.sensitivity=t.sensitivity),(s.searchable||s.sortable)&&t.ignorePunctuation&&(s.ignorePunctuation=t.ignorePunctuation),t.hidden&&(s.hidden=!0),t.filter&&(s.filter=t.filter),t.sortSequence&&(s.sortSequence=t.sortSequence)}this.dt.update(!0)}remove(t){Array.isArray(t)||(t=[t]),this.dt.data.headings=this.dt.data.headings.filter((e,s)=>!t.includes(s)),this.dt.data.data.forEach(e=>e.cells=e.cells.filter((s,o)=>!t.includes(o))),this.dt.update(!0)}filter(t,e=!1){if(!this.settings[t]?.filter?.length)return;let s=this._state.filters[t],o;if(s){let a=!1;o=this.settings[t].filter.find(n=>!!a||(n===s&&(a=!0),!1))}else{let a=this.settings[t].filter;o=a?a[0]:void 0}o?this._state.filters[t]=o:s&&(this._state.filters[t]=void 0),this.dt._currentPage=1,this.dt.update(),e||this.dt.emit("datatable.filter",t,o)}sort(t,e=void 0,s=!1){let o=this.settings[t];if(s||this.dt.emit("datatable.sorting",t,e),!e){let d=!(!this._state.sort||this._state.sort.column!==t)&&this._state.sort?.dir,u=o?.sortSequence||["asc","desc"];if(d){let f=u.indexOf(d);e=f===-1?u[0]||"asc":f===u.length-1?u[0]:u[f+1]}else e=u.length?u[0]:"asc"}let a=!(!o||!["string","html"].includes(o.type))&&new Intl.Collator(o.locale||this.dt.options.locale,{usage:"sort",numeric:o.numeric||this.dt.options.numeric,caseFirst:o.caseFirst||this.dt.options.caseFirst,ignorePunctuation:o.ignorePunctuation||this.dt.options.ignorePunctuation}),n=[],l=new Map;this.dt.data.data.forEach((d,u)=>{if(d.cells.some(f=>f.attributes?.["data-rowspan-placeholder"]==="true")){for(let p=u-1;p>=0;p--)if(l.has(p)){let m=l.get(p);return n[m].push(u),void l.set(u,m)}let f=n.length;n.push([u]),l.set(u,f)}else if(d.cells.some(f=>f.attributes?.rowspan&&parseInt(f.attributes.rowspan,10)>1)){let f=n.length;n.push([u]),l.set(u,f)}else{let f=n.length;n.push([u]),l.set(u,f)}}),n.sort((d,u)=>{let f=(h,g)=>{let w=this.dt.data.data[h].cells[g];if(w.attributes?.["data-rowspan-placeholder"]==="true"){for(let D=h-1;D>=0;D--){let c=this.dt.data.data[D].cells[g];if(c.attributes?.["data-rowspan-placeholder"]!=="true")return c.order??nt(c)}return""}return w.order??nt(w)},p=f(d[0],t),m=f(u[0],t);if(e==="desc"){let h=p;p=m,m=h}return a&&typeof p!="number"&&typeof m!="number"?a.compare(String(p),String(m)):p<m?-1:p>m?1:0});let r=[];n.forEach(d=>{d.forEach(u=>{r.push(this.dt.data.data[u])})}),this.dt.data.data=r,this._state.sort={column:t,dir:e},this.dt._searchQueries.length?(this.dt.multiSearch(this.dt._searchQueries),this.dt.emit("datatable.sort",t,e)):s||(this.dt._currentPage=1,this.dt.update(),this.dt.emit("datatable.sort",t,e))}_measureWidths(){let t=this.dt.data.headings.filter((e,s)=>!this.settings[s]?.hidden);if((this.dt.options.scrollY.length||this.dt.options.fixedColumns)&&t?.length){this._state.widths=[];let e={noPaging:!0};if(this.dt.options.header||this.dt.options.footer){this.dt.options.scrollY.length&&(e.unhideHeader=!0),this.dt.headerDOM&&this.dt.headerDOM.parentElement.removeChild(this.dt.headerDOM),e.noColumnWidths=!0,this.dt._renderTable(e);let s=Array.from(this.dt.dom.querySelector("thead, tfoot")?.firstElementChild?.querySelectorAll("th")||[]),o=0,a=this.dt.data.headings.map((l,r)=>{if(this.settings[r]?.hidden)return 0;let d=s[o].offsetWidth;return o+=1,d}),n=a.reduce((l,r)=>l+r,0);this._state.widths=a.map(l=>l/n*100)}else{e.renderHeader=!0,this.dt._renderTable(e);let s=Array.from(this.dt.dom.querySelector("thead, tfoot")?.firstElementChild?.querySelectorAll("th")||[]),o=0,a=this.dt.data.headings.map((l,r)=>{if(this.settings[r]?.hidden)return 0;let d=s[o].offsetWidth;return o+=1,d}),n=a.reduce((l,r)=>l+r,0);this._state.widths=a.map(l=>l/n*100)}this.dt._renderTable()}}},ht={sortable:!0,locale:"en",numeric:!0,caseFirst:"false",searchable:!0,sensitivity:"base",ignorePunctuation:!0,destroyable:!0,searchItemSeparator:"",searchQuerySeparator:" ",searchAnd:!1,searchMethod:!1,data:{},type:"html",format:"YYYY-MM-DD",columns:[],paging:!0,perPage:10,perPageSelect:[5,10,15,20,25],nextPrev:!0,firstLast:!1,prevText:"\u2039",nextText:"\u203A",firstText:"\xAB",lastText:"\xBB",ellipsisText:"\u2026",truncatePager:!0,pagerDelta:2,scrollY:"",fixedColumns:!0,fixedHeight:!1,footer:!1,header:!0,hiddenHeader:!1,caption:void 0,rowNavigation:!1,rowSelectionKeys:["Enter"," "],tabIndex:!1,pagerRender:!1,rowRender:!1,tableRender:!1,diffDomOptions:{valueDiffing:!1,simplifiedElementCheck:!1},labels:{placeholder:"Search...",searchTitle:"Search within table",perPage:"entries per page",pageTitle:"Page {page}",noRows:"No entries found",noResults:"No results match your search query",info:"Showing {start} to {end} of {rows} entries"},template:(i,t)=>`<div class='${i.classes.top}'>
    ${i.paging&&i.perPageSelect?`<div class='${i.classes.dropdown}'>
            <label>
                <select class='${i.classes.selector}' name="per-page"></select> ${i.labels.perPage}
            </label>
        </div>`:""}
    ${i.searchable?`<div class='${i.classes.search}'>
            <input class='${i.classes.input}' placeholder='${i.labels.placeholder}' type='search' name="search" title='${i.labels.searchTitle}'${t.id?` aria-controls="${t.id}"`:""}>
        </div>`:""}
</div>
<div class='${i.classes.container}'${i.scrollY.length?` style='height: ${i.scrollY}; overflow-Y: auto;'`:""}></div>
<div class='${i.classes.bottom}'>
    ${i.paging?`<div class='${i.classes.info}'></div>`:""}
    <nav class='${i.classes.pagination}'></nav>
</div>`,classes:{active:"datatable-active",ascending:"datatable-ascending",bottom:"datatable-bottom",container:"datatable-container",cursor:"datatable-cursor",descending:"datatable-descending",disabled:"datatable-disabled",dropdown:"datatable-dropdown",ellipsis:"datatable-ellipsis",filter:"datatable-filter",filterActive:"datatable-filter-active",empty:"datatable-empty",headercontainer:"datatable-headercontainer",hidden:"datatable-hidden",info:"datatable-info",input:"datatable-input",loading:"datatable-loading",pagination:"datatable-pagination",paginationList:"datatable-pagination-list",paginationListItem:"datatable-pagination-list-item",paginationListItemLink:"datatable-pagination-list-item-link",search:"datatable-search",selector:"datatable-selector",sorter:"datatable-sorter",table:"datatable-table",top:"datatable-top",wrapper:"datatable-wrapper"}},at=(i,t,e,s={})=>({nodeName:"LI",attributes:{class:s.active&&!s.hidden?`${e.classes.paginationListItem} ${e.classes.active}`:s.hidden?`${e.classes.paginationListItem} ${e.classes.hidden} ${e.classes.disabled}`:e.classes.paginationListItem},childNodes:[{nodeName:"BUTTON",attributes:{"data-page":String(i),class:e.classes.paginationListItemLink,"aria-label":e.labels.pageTitle.replace("{page}",String(i))},childNodes:[{nodeName:"#text",data:t}]}]}),re=(i,t,e,s,o)=>{let a=[];if(o.firstLast&&a.push(at(1,o.firstText,o)),o.nextPrev){let l=i?1:e-1;a.push(at(l,o.prevText,o,{hidden:i}))}let n=[...Array(s).keys()].map(l=>at(l+1,String(l+1),o,{active:l===e-1}));if(o.truncatePager&&(n=((l,r,d,u)=>{let f=u.pagerDelta,p=u.classes,m=u.ellipsisText,h=2*f,g=r-f,w=r+f;r<4-f+h?w=3+h:r>d-(3-f+h)&&(g=d-(2+h));let D=[];for(let S=1;S<=d;S++)if(S==1||S==d||S>=g&&S<=w){let T=l[S-1];D.push(T)}let c,_=[];return D.forEach(S=>{let T=parseInt(S.childNodes[0].attributes["data-page"],10);if(c){let C=parseInt(c.childNodes[0].attributes["data-page"],10);if(T-C==2)_.push(l[C]);else if(T-C!=1){let A={nodeName:"LI",attributes:{class:`${p.paginationListItem} ${p.ellipsis} ${p.disabled}`},childNodes:[{nodeName:"BUTTON",attributes:{class:p.paginationListItemLink},childNodes:[{nodeName:"#text",data:m}]}]};_.push(A)}}_.push(S),c=S}),_})(n,e,s,o)),a=a.concat(n),o.nextPrev){let l=t?s:e+1;a.push(at(l,o.nextText,o,{hidden:t}))}return o.firstLast&&a.push(at(s,o.lastText,o)),{nodeName:"UL",attributes:{class:o.classes.paginationList},childNodes:n.length>1?a:[]}},ft=class{constructor(t,e={}){$(this,"columns");$(this,"containerDOM");$(this,"_currentPage");$(this,"data");$(this,"_dd");$(this,"dom");$(this,"_events");$(this,"hasHeadings");$(this,"hasRows");$(this,"headerDOM");$(this,"_initialHTML");$(this,"initialized");$(this,"_label");$(this,"lastPage");$(this,"_listeners");$(this,"onFirstPage");$(this,"onLastPage");$(this,"options");$(this,"_pagerDOMs");$(this,"_virtualPagerDOM");$(this,"pages");$(this,"_rect");$(this,"rows");$(this,"_searchData");$(this,"_searchQueries");$(this,"_tableAttributes");$(this,"_tableFooters");$(this,"_tableCaptions");$(this,"totalPages");$(this,"_virtualDOM");$(this,"_virtualHeaderDOM");$(this,"wrapperDOM");$(this,"_onResize",Ut(()=>{this._rect=this.containerDOM.getBoundingClientRect(),this._rect.width&&this.update(!0)},250));let s=typeof t=="string"?document.querySelector(t):t;s instanceof HTMLTableElement?this.dom=s:(this.dom=document.createElement("table"),s.appendChild(this.dom));let o={...ht.diffDomOptions,...e.diffDomOptions},a={...ht.labels,...e.labels},n={...ht.classes,...e.classes};this.options={...ht,...e,diffDomOptions:o,labels:a,classes:n},this._initialHTML=this.options.destroyable?s.outerHTML:"",this.options.tabIndex?this.dom.tabIndex=this.options.tabIndex:this.options.rowNavigation&&this.dom.tabIndex===-1&&(this.dom.tabIndex=0),this._listeners={onResize:()=>this._onResize()},this._dd=new se(this.options.diffDomOptions||{}),this.initialized=!1,this._events={},this._currentPage=0,this.onFirstPage=!0,this.hasHeadings=!1,this.hasRows=!1,this._searchQueries=[],this.init()}init(){if(this.initialized||_t(this.dom,this.options.classes.table))return!1;this._virtualDOM=tt(this.dom,this.options.diffDomOptions||{}),this._tableAttributes={...this._virtualDOM.attributes},this._tableFooters=this._virtualDOM.childNodes?.filter(t=>t.nodeName==="TFOOT")??[],this._tableCaptions=this._virtualDOM.childNodes?.filter(t=>t.nodeName==="CAPTION")??[],this.options.caption!==void 0&&this._tableCaptions.push({nodeName:"CAPTION",childNodes:[{nodeName:"#text",data:this.options.caption}]}),this.rows=new Ct(this),this.columns=new kt(this),this.data=Rt(this.options.data,this.dom,this.columns.settings,this.options.type,this.options.format),this._render(),setTimeout(()=>{this.emit("datatable.init"),this.initialized=!0},10)}_render(){this.wrapperDOM=wt("div",{class:`${this.options.classes.wrapper} ${this.options.classes.loading}`}),this.wrapperDOM.innerHTML=this.options.template(this.options,this.dom);let t=K(this.options.classes.selector),e=this.wrapperDOM.querySelector(`select${t}`);e&&this.options.paging&&this.options.perPageSelect?this.options.perPageSelect.forEach(n=>{let[l,r]=Array.isArray(n)?[n[0],n[1]]:[String(n),n],d=r===this.options.perPage,u=new Option(l,String(r),d,d);e.appendChild(u)}):e&&e.parentElement.removeChild(e);let s=K(this.options.classes.container);this.containerDOM=this.wrapperDOM.querySelector(s),this._pagerDOMs=[];let o=K(this.options.classes.pagination);Array.from(this.wrapperDOM.querySelectorAll(o)).forEach(n=>{n instanceof HTMLElement&&(n.innerHTML=`<ul class="${this.options.classes.paginationList}"></ul>`,this._pagerDOMs.push(n.firstElementChild))}),this._virtualPagerDOM={nodeName:"UL",attributes:{class:this.options.classes.paginationList}};let a=K(this.options.classes.info);this._label=this.wrapperDOM.querySelector(a),this.dom.parentElement.replaceChild(this.wrapperDOM,this.dom),this.containerDOM.appendChild(this.dom),this._rect=this.dom.getBoundingClientRect(),this._fixHeight(),this.options.header||this.wrapperDOM.classList.add("no-header"),this.options.footer||this.wrapperDOM.classList.add("no-footer"),this.options.sortable&&this.wrapperDOM.classList.add("sortable"),this.options.searchable&&this.wrapperDOM.classList.add("searchable"),this.options.fixedHeight&&this.wrapperDOM.classList.add("fixed-height"),this.options.fixedColumns&&this.wrapperDOM.classList.add("fixed-columns"),this._bindEvents(),this.columns._state.sort&&this.columns.sort(this.columns._state.sort.column,this.columns._state.sort.dir,!0),this.update(!0)}_renderTable(t={}){let e;e=(this.options.paging||this._searchQueries.length||this.columns._state.filters.length)&&this._currentPage&&this.pages.length&&!t.noPaging?this.pages[this._currentPage-1]:this.data.data.map((a,n)=>({row:a,index:n}));let s=Pt(this._tableAttributes,this.data.headings,e,this.columns.settings,this.columns._state,this.rows.cursor,this.options,t,this._tableFooters,this._tableCaptions);if(this.options.tableRender){let a=this.options.tableRender(this.data,s,"main");a&&(s=a)}let o=this._dd.diff(this._virtualDOM,s);this._dd.apply(this.dom,o),this._virtualDOM=s}_renderPage(t=!1){this.hasRows&&this.totalPages?(this._currentPage>this.totalPages&&(this._currentPage=1),this._renderTable(),this.onFirstPage=this._currentPage===1,this.onLastPage=this._currentPage===this.lastPage):this.setMessage(this.options.labels.noRows);let e,s=0,o=0,a=0;if(this.totalPages&&(s=this._currentPage-1,o=s*this.options.perPage,a=o+this.pages[s].length,o+=1,e=this._searchQueries.length?this._searchData.length:this.data.data.length),this._label&&this.options.labels.info.length){let n=this.options.labels.info.replace("{start}",String(o)).replace("{end}",String(a)).replace("{page}",String(this._currentPage)).replace("{pages}",String(this.totalPages)).replace("{rows}",String(e));this._label.innerHTML=e?n:""}if(this._currentPage==1&&this._fixHeight(),this.options.rowNavigation&&this._currentPage&&(!this.rows.cursor||!this.pages[this._currentPage-1].find(n=>n.index===this.rows.cursor))){let n=this.pages[this._currentPage-1];n.length&&(t?this.rows.setCursor(n[n.length-1].index):this.rows.setCursor(n[0].index))}}_renderPagers(){if(!this.options.paging)return;let t=re(this.onFirstPage,this.onLastPage,this._currentPage,this.totalPages,this.options);if(this.options.pagerRender){let s=this.options.pagerRender([this.onFirstPage,this.onLastPage,this._currentPage,this.totalPages],t);s&&(t=s)}let e=this._dd.diff(this._virtualPagerDOM,t);this._pagerDOMs.forEach(s=>{this._dd.apply(s,e)}),this._virtualPagerDOM=t}_renderSeparateHeader(){let t=this.dom.parentElement;this.headerDOM||(this.headerDOM=document.createElement("div"),this._virtualHeaderDOM={nodeName:"DIV"}),t.parentElement.insertBefore(this.headerDOM,t);let e={nodeName:"TABLE",attributes:this._tableAttributes,childNodes:[{nodeName:"THEAD",childNodes:[Vt(this.data.headings,this.columns.settings,this.columns._state,this.options,{unhideHeader:!0})]}]};if(e.attributes.class?.includes(this.options.classes.table)||(e.attributes.class=U(e.attributes.class,this.options.classes.table)),this.options.tableRender){let n=this.options.tableRender(this.data,e,"header");n&&(e=n)}let s={nodeName:"DIV",attributes:{class:this.options.classes.headercontainer},childNodes:[e]},o=this._dd.diff(this._virtualHeaderDOM,s);this._dd.apply(this.headerDOM,o),this._virtualHeaderDOM=s;let a=this.headerDOM.firstElementChild.clientWidth-this.dom.clientWidth;if(a){let n=structuredClone(this._virtualHeaderDOM);n.attributes.style=`padding-right: ${a}px;`;let l=this._dd.diff(this._virtualHeaderDOM,n);this._dd.apply(this.headerDOM,l),this._virtualHeaderDOM=n}t.scrollHeight>t.clientHeight&&(t.style.overflowY="scroll")}_bindEvents(){if(this.options.perPageSelect){let t=K(this.options.classes.selector),e=this.wrapperDOM.querySelector(t);e&&e instanceof HTMLSelectElement&&e.addEventListener("change",()=>{this.emit("datatable.perpage:before",this.options.perPage),this.options.perPage=parseInt(e.value,10),this.update(),this._fixHeight(),this.emit("datatable.perpage",this.options.perPage)},!1)}this.options.searchable&&this.wrapperDOM.addEventListener("input",t=>{let e=K(this.options.classes.input),s=t.target;if(!(s instanceof HTMLInputElement&&s.matches(e)))return;t.preventDefault();let o=[];if(Array.from(this.wrapperDOM.querySelectorAll(e)).filter(a=>a.value.length).forEach(a=>{let n=a.dataset.and||this.options.searchAnd,l=a.dataset.querySeparator||this.options.searchQuerySeparator?a.value.split(this.options.searchQuerySeparator):[a.value];n?l.forEach(r=>{a.dataset.columns?o.push({terms:[r],columns:JSON.parse(a.dataset.columns)}):o.push({terms:[r],columns:void 0})}):a.dataset.columns?o.push({terms:l,columns:JSON.parse(a.dataset.columns)}):o.push({terms:l,columns:void 0})}),o.length===1&&o[0].terms.length===1){let a=o[0];this.search(a.terms[0],a.columns)}else this.multiSearch(o)}),this.wrapperDOM.addEventListener("click",t=>{let e=t.target.closest("a, button");if(e){if(e.hasAttribute("data-page"))this.page(parseInt(e.getAttribute("data-page"),10)),t.preventDefault();else if(_t(e,this.options.classes.sorter)){let s=Array.from(e.parentElement.parentElement.children).indexOf(e.parentElement),o=Tt(s,this.columns.settings);this.columns.sort(o),t.preventDefault()}else if(_t(e,this.options.classes.filter)){let s=Array.from(e.parentElement.parentElement.children).indexOf(e.parentElement),o=Tt(s,this.columns.settings);this.columns.filter(o),t.preventDefault()}}},!1),this.options.rowNavigation&&this.dom.addEventListener("keydown",t=>{if(t.key==="ArrowUp"){let e;t.preventDefault(),t.stopPropagation(),this.pages[this._currentPage-1].find(s=>s.index===this.rows.cursor||(e=s,!1)),e?this.rows.setCursor(e.index):this.onFirstPage||this.page(this._currentPage-1,!0)}else if(t.key==="ArrowDown"){let e;t.preventDefault(),t.stopPropagation();let s=this.pages[this._currentPage-1].find(o=>!!e||(o.index===this.rows.cursor&&(e=!0),!1));s?this.rows.setCursor(s.index):this.onLastPage||this.page(this._currentPage+1)}else this.options.rowSelectionKeys.includes(t.key)&&this.emit("datatable.selectrow",this.rows.cursor,t,!0)}),this.dom.addEventListener("mousedown",t=>{let e=t.target;if(!(e instanceof Element))return;let s=Array.from(this.dom.querySelectorAll("tbody > tr")).find(o=>o.contains(e));s&&s instanceof HTMLElement&&this.emit("datatable.selectrow",parseInt(s.dataset.index,10),t,this.dom.matches(":focus"))}),window.addEventListener("resize",this._listeners.onResize)}destroy(){if(this.options.destroyable){if(this.emit("datatable.destroy:before"),this.wrapperDOM){let t=this.wrapperDOM.parentElement;if(t){let e=wt("div");e.innerHTML=this._initialHTML;let s=e.firstElementChild;t.replaceChild(s,this.wrapperDOM),this.dom=s}else this.options.classes.table?.split(" ").forEach(e=>this.wrapperDOM.classList.remove(e))}window.removeEventListener("resize",this._listeners.onResize),this.initialized=!1,this.emit("datatable.destroy")}}update(t=!1){this.emit("datatable.update:before"),t&&(this.columns._measureWidths(),this.hasRows=!!this.data.data.length,this.hasHeadings=!!this.data.headings.length),this.options.classes.empty?.split(" ").forEach(e=>this.wrapperDOM.classList.remove(e)),this._paginate(),this._renderPage(),this._renderPagers(),this.options.scrollY.length&&this._renderSeparateHeader(),this.emit("datatable.update")}_paginate(){let t=this.data.data.map((e,s)=>({row:e,index:s}));return this._searchQueries.length&&(t=[],this._searchData.forEach(e=>t.push({index:e,row:this.data.data[e]}))),this.columns._state.filters.length&&this.columns._state.filters.forEach((e,s)=>{e&&(t=t.filter(o=>{let a=o.row.cells[s];return typeof e=="function"?e(a.data):nt(a)===e}))}),this.options.paging&&this.options.perPage>0?this.pages=t.map((e,s)=>s%this.options.perPage===0?t.slice(s,s+this.options.perPage):null).filter(e=>e):this.pages=[t],this.totalPages=this.lastPage=this.pages.length,this._currentPage||(this._currentPage=1),this.totalPages}_fixHeight(){this.options.fixedHeight&&(this.containerDOM.style.height=null,this._rect=this.containerDOM.getBoundingClientRect(),this.containerDOM.style.height=`${this._rect.height}px`)}search(t,e=void 0,s="search"){if(this.emit("datatable.search:before",t,this._searchData),!t.length)return this._currentPage=1,this._searchQueries=[],this._searchData=[],this.update(),this.emit("datatable.search","",[]),this.wrapperDOM.classList.remove("search-results"),!1;this.multiSearch([{terms:[t],columns:e||void 0}],s),this.emit("datatable.search",t,this._searchData)}multiSearch(t,e="search"){if(!this.hasRows)return!1;this._currentPage=1,this._searchData=[];let s=t.map(a=>({columns:a.columns,terms:a.terms.map(n=>n.trim()).filter(n=>n),source:e})).filter(a=>a.terms.length);if(this.emit("datatable.multisearch:before",s,this._searchData),e.length&&(s=s.concat(this._searchQueries.filter(a=>a.source!==e))),this._searchQueries=s,!s.length)return this.update(),this.emit("datatable.multisearch",s,this._searchData),this.wrapperDOM.classList.remove("search-results"),!1;let o=s.map(a=>this.columns.settings.map((n,l)=>{if(!n||n.hidden||!n.searchable||a.columns&&!a.columns.includes(l))return!1;let r=a.terms,d=n.sensitivity||this.options.sensitivity;return["base","accent"].includes(d)&&(r=r.map(u=>u.toLowerCase())),["base","case"].includes(d)&&(r=r.map(u=>u.normalize("NFD").replace(/\p{Diacritic}/gu,""))),(n.ignorePunctuation??this.options.ignorePunctuation)&&(r=r.map(u=>u.replace(/[.,/#!$%^&*;:{}=-_`~()]/g,""))),r}));this.data.data.forEach((a,n)=>{let l=a.cells.map((r,d)=>{let u=this.columns.settings[d],f=u?.searchMethod||this.options.searchMethod,p=r;if(r.attributes?.["data-rowspan-placeholder"]==="true")for(let g=n-1;g>=0;g--){let w=this.data.data[g].cells[d];if(w.attributes?.["data-rowspan-placeholder"]!=="true"){p=w;break}}if(f)return p;let m=nt(p).trim();if(m.length){let g=u?.sensitivity||this.options.sensitivity;["base","accent"].includes(g)&&(m=m.toLowerCase()),["base","case"].includes(g)&&(m=m.normalize("NFD").replace(/\p{Diacritic}/gu,"")),(u?.ignorePunctuation??this.options.ignorePunctuation)&&(m=m.replace(/[.,/#!$%^&*;:{}=-_`~()]/g,""))}let h=u?.searchItemSeparator||this.options.searchItemSeparator;return h?m.split(h):[m]});o.every((r,d)=>r.find((u,f)=>{if(!u)return!1;let p=this.columns.settings[f],m=p?.searchMethod||this.options.searchMethod;return m?m(u,l[f],a,f,s[d].source):u.find(h=>l[f]?.find(g=>g?.includes(h)))}))&&this._searchData.push(n)}),this.wrapperDOM.classList.add("search-results"),this._searchData.length?this.update():(this.wrapperDOM.classList.remove("search-results"),this.setMessage(this.options.labels.noResults)),this.emit("datatable.multisearch",s,this._searchData)}page(t,e=!1){return this.emit("datatable.page:before",t),t!==this._currentPage&&(isNaN(t)||(this._currentPage=t),!(t>this.pages.length||t<0)&&(this._renderPage(e),this._renderPagers(),void this.emit("datatable.page",t)))}insert(t){let e=[];if(Array.isArray(t)){let s=this.data.headings.map(o=>o.data?String(o.data):o.text);t.forEach((o,a)=>{let n=[];Object.entries(o).forEach(([l,r])=>{let d=s.indexOf(l);d>-1?n[d]=st(r,this.columns.settings[d]):this.hasHeadings||this.hasRows||a!==0||(n[s.length]=st(r,this.columns.settings[s.length]),s.push(l),this.data.headings.push(rt(l)))}),e.push({cells:n})})}else zt(t)&&(!t.headings||this.hasHeadings||this.hasRows?t.data&&Array.isArray(t.data)&&(e=t.data.map(s=>{let o,a;return Array.isArray(s)?(o={},a=s):(o=s.attributes,a=s.cells),{attributes:o,cells:a.map((n,l)=>st(n,this.columns.settings[l]))}})):this.data=Rt(t,void 0,this.columns.settings,this.options.type,this.options.format));e.length&&e.forEach(s=>this.data.data.push(s)),this.hasHeadings=!!this.data.headings.length,this.columns._state.sort&&this.columns.sort(this.columns._state.sort.column,this.columns._state.sort.dir,!0),this.update(!0)}refresh(){if(this.emit("datatable.refresh:before"),this.options.searchable){let t=K(this.options.classes.input);Array.from(this.wrapperDOM.querySelectorAll(t)).forEach(e=>e.value=""),this._searchQueries=[]}this._currentPage=1,this.onFirstPage=!0,this.update(!0),this.emit("datatable.refresh")}print(){let t=wt("table"),e=Pt(this._tableAttributes,this.data.headings,this.data.data.map((a,n)=>({row:a,index:n})),this.columns.settings,this.columns._state,!1,this.options,{noColumnWidths:!0,unhideHeader:!0},this._tableFooters,this._tableCaptions);if(this.options.tableRender){let a=this.options.tableRender(this.data,e,"print");a&&(e=a)}let s=this._dd.diff({nodeName:"TABLE"},e);this._dd.apply(t,s);let o=window.open();o.document.body.appendChild(t),o.print()}setMessage(t){let e=this.data.headings.filter((a,n)=>!this.columns.settings[n]?.hidden).length||1;this.options.classes.empty?.split(" ").forEach(a=>this.wrapperDOM.classList.add(a)),this._label&&(this._label.innerHTML=""),this.totalPages=0,this._renderPagers();let s={nodeName:"TABLE",attributes:this._tableAttributes,childNodes:[{nodeName:"THEAD",childNodes:[Vt(this.data.headings,this.columns.settings,this.columns._state,this.options,{})]},{nodeName:"TBODY",childNodes:[{nodeName:"TR",childNodes:[{nodeName:"TD",attributes:{class:this.options.classes.empty,colspan:String(e)},childNodes:[{nodeName:"#text",data:t}]}]}]}]};if(this._tableFooters.forEach(a=>s.childNodes.push(a)),this._tableCaptions.forEach(a=>s.childNodes.push(a)),s.attributes.class?.includes(this.options.classes.table)||(s.attributes.class=U(s.attributes.class,this.options.classes.table)),this.options.tableRender){let a=this.options.tableRender(this.data,s,"message");a&&(s=a)}let o=this._dd.diff(this._virtualDOM,s);this._dd.apply(this.dom,o),this._virtualDOM=s}on(t,e){this._events[t]=this._events[t]||[],this._events[t].push(e)}off(t,e){t in this._events&&this._events[t].splice(this._events[t].indexOf(e),1)}emit(t,...e){if(t in this._events)for(let s=0;s<this._events[t].length;s++)this._events[t][s](...e)}};var le=window.addEventListener;window.addEventListener=function(i,t,e){i!=="resize"&&le.call(this,i,t,e)};new ft("#fonts",{columns:[{select:2,sort:"asc"}],labels:{noResults:"No s'ha trobat cap resultat"},locale:"ca",paging:!1,tableRender:(i,t,e)=>{if(e==="print")return t;let s=t.childNodes[0],o={childNodes:s.childNodes[0].childNodes.map((a,n)=>{let l=a.childNodes.find(d=>d.nodeName==="BUTTON");return{childNodes:[{attributes:{"aria-label":`Cerca a la columna ${l&&l.childNodes.length>0&&l.childNodes[0].nodeName==="#text"?l.childNodes[0].data:n+1}`,class:"datatable-input","data-and":!0,"data-columns":`[${n}]`,type:"search"},nodeName:"INPUT"}],nodeName:"TH"}}),nodeName:"TR"};return s.childNodes.push(o),t}});})();
